<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
  <head>
    <title>Edit Book</title>
  </head>
  <body>
    <h1>Edit Book</h1>
    
    <form th:action="@{/edit/{id}(id=${book.id})}" method="post">
      <label>Title:</label>
      <input type="text" name="title" th:value="${book.title}" required />
      <br />

      <label>Author:</label>
      <input type="text" name="author" th:value="${book.author}" required />
      <br />

      <label>Publication Year:</label>
      <input
        type="number"
        name="publicationYear"
        th:value="${book.publicationYear}"
        required
      />
      <br />

      <label>ISBN:</label>
      <input type="text" name="isbn" th:value="${book.isbn}" required /> <br />

      <label>Price:</label>
      <input
        type="number"
        step="0.01"
        name="price"
        th:value="${book.price}"
        required
      />
      <br />

      <label>Category:</label>
      <select name="categoryId" required>
        <option value="">Select a category</option>
        <th:block th:each="category : ${categories}">
          <option
            th:value="${category.id}"
            th:text="${category.name}"
            th:selected="${book.category != null and book.category.id == category.id}"
          ></option>
        </th:block>
      </select>
      <br />

      <button type="submit">Update Book</button>
    </form>

    <br />
    <a href="/booklist">Back to Book List</a>
  </body>
</html>
